<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <link rel ="stylesheet" type="text/css" href ="styles.css">
    <script src="udp.jar" type="text/jar"></script>
    <script src="UDP.java" type="text/jar"></script>
    <script type="text/javascript" src="./../program/processing.js"></script>
    
<body>
    <header><h1>Smart PlayGround</h1></header>
    <nav>
      <a href="./../index.html">홈</a>
      <a href="./html2page.html">미끄럼틀 통계</a>
      <a href="./processingpage.html"> 실시간 사용 화면</a><br>
    </nav>
      <div id = "realtimeSwingDiv">
          <h2 style="text-align: left;">그네 실시간 사용 화면</h2>
      </div>
      <div id = "realtimeSwingDiv2">
        <h2 style="text-align: left;">미끄럼틀 실시간 사용 화면</h2>
      </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js"></script>
        <script>
        let swing = function(p) {
          var responses;
          var xhr = new XMLHttpRequest();
          let x=0;
          let red1=255, green1=251, blue1=150;
          let red2=255, green2=251, blue2=150;

          
          p.setup=function(){
            p.createCanvas( 1000, 800 );
            //myCanvas.parent('realtimeSwingDiv');
            p.background(200);
            
          };
          p.draw=function(){
            p.fill(255, 158, 44); //dark yellow
            p.rect(400,60,200,20);
  
            p.fill(red1, green1, blue1);
            p.ellipse(500,250,30,30);
            p.fill(red2, green2, blue2);
            p.ellipse(340,170,30,30);
  
            p.fill(255, 158, 44);
            p.translate(p.width/2, p.height/2);
            p.rotate(p.PI/7.0);
            p.rect(-150, -290, 20, 710);
  
            p.fill(255, 158, 44);
            p.translate(p.width/2, p.height/2);
            p.rotate(6.0* p.PI/8.50);
            p.rect(-180, 210, 20, 710);

            xhr.open('POST', 'echo2');
		        xhr.setRequestHeader('Content-Type', 'application/json2');
            xhr.send('{requestNumber:0}');
            xhr.onload = function() {
		        if (xhr.status === 200) {
              responses = JSON.parse(xhr.responseText);
              red1=responses.rgb1[0];
              green1=responses.rgb1[1];
              blue1=responses.rgb1[2];
              red2=responses.rgb2[0];
              green2=responses.rgb2[1];
              blue2=responses.rgb2[2];
            }
          }
          };
        };
        
let myp1 = new p5(swing,'realtimeSwingDiv');





        let slide = function(p) {
            //p.parent('realtimeSwingDiv2');
            var responses;
            var xhr = new XMLHttpRequest();
            let x=0;
    let red3=255, green3=251, blue3=150;
    let red4=255, green4=251, blue4=150;
    let red5=255, green5=251, blue5=150;
    let red6=255, green6=251, blue6=150;
    p.setup = function() {
        p.createCanvas( 1000, 800 );
        p.background(200);
  };

  p.draw = function() {
    //fill(255, 8, 74);
    p.fill(red3, green3, blue3);
            p.ellipse(590,160,30,30);
            //fill(255, 8, 74);
            p.fill(red4, green4, blue4);
            p.ellipse(535,210,30,30);
            //fill(255, 8, 74);
            p.fill(red5, green5, blue5);
            p.ellipse(250,484,30,30);
            //fill(255, 8, 74);
            p.fill(red6, green6, blue6);
            p.ellipse(180,547,30,30);
  
            p.fill(255, 158, 44); //dark yellow
            p.rect(660,150,200,10);
  
            p.fill(20, 177, 171); // green
            p.rect(750,160,70,500);
  
            p.fill(255, 158, 44);
            p.translate(p.width/2, p.height/2);
            p.rotate(p.PI/3.9);
            p.rect(-82, -290, 20, 710);

            xhr.open('POST', 'echo2');
		        xhr.setRequestHeader('Content-Type', 'application/json2');
            xhr.send('{requestNumber:0}');
            xhr.onload = function() {
		        if (xhr.status === 200) {
              responses = JSON.parse(xhr.responseText);
              red3=responses.rgb3[0];
              green3=responses.rgb3[1];
              blue3=responses.rgb3[2];
              red4=responses.rgb4[0];
              green4=responses.rgb4[1];
              blue4=responses.rgb4[2];
              red5=responses.rgb5[0];
              green5=responses.rgb5[1];
              blue5=responses.rgb5[2];
              red6=responses.rgb6[0];
              green6=responses.rgb6[1];
              blue6=responses.rgb6[2];
            }
          }
  };
};

let myp2 = new p5(slide,'realtimeSwingDiv2');
        </script>
        
  </body>